(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{X3zk:function(n,t,e){"use strict";e.r(t),e.d(t,"LoginPageModule",(function(){return h}));var o=e("ofXK"),r=e("3Pt+"),i=e("TEn/"),s=e("tyNb"),a=e("mrSG"),l=e("gcOT"),c=e("fXoL"),d=e("ej43");function b(n,t){1&n&&(c.Lb(0,"span"),c.pc(1,"Password is required"),c.Kb())}function g(n,t){1&n&&(c.Lb(0,"span"),c.pc(1,"Password needs to be 6 characters"),c.Kb())}function p(n,t){if(1&n&&(c.Lb(0,"div",8),c.nc(1,b,2,0,"span",9),c.nc(2,g,2,0,"span",9),c.Kb()),2&n){const n=c.Vb();c.xb(1),c.bc("ngIf",null==n.password.errors?null:n.password.errors.required),c.xb(1),c.bc("ngIf",null==n.password.errors?null:n.password.errors.minlength)}}const{Storage:u}=l.a,m=[{path:"",component:(()=>{class n{constructor(n,t,e,o,r,i){this.fb=n,this.authService=t,this.alertController=e,this.router=o,this.loadingController=r,this.menuCtrl=i}ngOnInit(){this.credentials=this.fb.group({email:[""],password:[""]})}ionViewDidEnter(){this.menuCtrl.enable(!1)}ionViewDidLeave(){this.menuCtrl.enable(!0)}login(){return Object(a.a)(this,void 0,void 0,(function*(){console.log(this.credentials);const n=yield this.loadingController.create();yield n.present(),this.authService.login(this.credentials.value).subscribe(t=>Object(a.a)(this,void 0,void 0,(function*(){console.log(t),yield n.dismiss();let e=yield u.get({key:"my-token"});if(console.log(e.value),"Usuario no Existente"==e.value){const n=yield this.alertController.create({header:"Error",message:"La contrase\xf1a o el usuario son err\xf3neos",buttons:["OK"]});yield n.present()}else this.router.navigateByUrl("/tabs",{replaceUrl:!0})})),t=>Object(a.a)(this,void 0,void 0,(function*(){console.log(t),yield n.dismiss();const e=yield this.alertController.create({header:"Error",message:"Parece que tenemos problemas",buttons:["OK"]});yield e.present()})))}))}get email(){return this.credentials.get("email")}get password(){return this.credentials.get("password")}}return n.\u0275fac=function(t){return new(t||n)(c.Ib(r.a),c.Ib(d.a),c.Ib(i.a),c.Ib(s.g),c.Ib(i.F),c.Ib(i.G))},n.\u0275cmp=c.Cb({type:n,selectors:[["app-login"]],decls:14,vars:4,consts:[[3,"translucent"],["no-bounce","",1,"login"],[3,"formGroup","ngSubmit"],[1,"input-group"],["type","email","placeholder","Usuario","formControlName","email"],["type","password","placeholder","Contrase\xf1a","formControlName","password"],["class","errors",4,"ngIf"],["type","submit","expand","block","color","success",3,"disabled"],[1,"errors"],[4,"ngIf"]],template:function(n,t){1&n&&(c.Lb(0,"ion-header",0),c.Lb(1,"ion-toolbar"),c.Lb(2,"ion-title"),c.pc(3,"Trecarsa"),c.Kb(),c.Kb(),c.Kb(),c.Lb(4,"ion-content",1),c.Lb(5,"form",2),c.Tb("ngSubmit",(function(){return t.login()})),c.Lb(6,"div",3),c.Lb(7,"ion-item"),c.Jb(8,"ion-input",4),c.Kb(),c.Lb(9,"ion-item"),c.Jb(10,"ion-input",5),c.Kb(),c.nc(11,p,3,2,"div",6),c.Kb(),c.Lb(12,"ion-button",7),c.pc(13,"Entrar"),c.Kb(),c.Kb(),c.Kb()),2&n&&(c.bc("translucent",!0),c.xb(5),c.bc("formGroup",t.credentials),c.xb(6),c.bc("ngIf",(t.password.dirty||t.password.touched)&&t.password.errors),c.xb(1),c.bc("disabled",!t.credentials.valid))},directives:[i.j,i.C,i.B,i.f,r.n,r.h,r.c,i.m,i.l,i.L,r.g,r.b,o.j,i.c],styles:[".login-box[_ngcontent-%COMP%]{max-width:350px;margin:40px auto 0}.logo[_ngcontent-%COMP%]{margin:0 auto;height:30px}.if-logo[_ngcontent-%COMP%]{height:200px;margin-left:22%}.RP-Icon[_ngcontent-%COMP%]{width:100%;height:66px;bottom:90px;margin:50px auto 0 -2px}.login-button[_ngcontent-%COMP%]{width:90%;margin:20px auto 20px 5%}.login-register[_ngcontent-%COMP%]{width:90%;margin:0 auto 20px 5%}.code[_ngcontent-%COMP%]{margin-top:1vw;border-bottom:1px solid #ddd;padding:10px;color:#888}.app-version[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:300;text-align:center;margin-top:90px}ion-content[_ngcontent-%COMP%]{--padding-top:10rem;--padding-start:10%;--padding-end:10%;--background:none;background:url(https://image.freepik.com/foto-gratis/herramientas-construccion-colocadas-suelos-madera_1150-15320.jpg) no-repeat fixed 50%;background-size:cover}.input-group[_ngcontent-%COMP%]{background:#fff;border-radius:10px;overflow:hidden;margin-bottom:3em}img[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:50%;margin-bottom:4rem}.errors[_ngcontent-%COMP%]{font-size:small;color:#fff;background:var(--ion-color-danger);padding-left:15px;padding-top:5px;padding-bottom:5px}.toolbar-title[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:66%;margin:0}"]}),n})()}];let f=(()=>{class n{}return n.\u0275mod=c.Gb({type:n}),n.\u0275inj=c.Fb({factory:function(t){return new(t||n)},imports:[[s.i.forChild(m)],s.i]}),n})(),h=(()=>{class n{}return n.\u0275mod=c.Gb({type:n}),n.\u0275inj=c.Fb({factory:function(t){return new(t||n)},imports:[[o.b,r.d,i.D,f,r.l]]}),n})()}}]);